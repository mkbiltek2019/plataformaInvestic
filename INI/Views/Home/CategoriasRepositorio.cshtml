@model IEnumerable<INI.Models.DataBase.CategoriaRepositorio>

@{
    ViewBag.Title = "Categorias repositorio";
    Layout = "~/Views/Shared/_LayoutRepositorio.cshtml";
    var n = Model.Count();
    int m = n % 3;
    int nr=n/3;
    int index=0;
    nr = m == 0 ? nr : nr + 1;
}

<br /><br /><br />
<br /><br /><br />
<br /><br /><br />

<div style="background-color:rgba(238, 238, 238, 1);min-height:440px">
    @if (Model.Count() > 0)
    {
        <div class="grid">
            @for (int i = 0; i < nr; i++)
            {
                <div class="row">
                    @for (int j = 0; j < 3; j++)
                    {
                        if (index < n) { 
                            var item = Model.ElementAt(index);
                            <div class="span4" style="margin-top:20px;margin-left:0px">
                                <div style="width:100px;margin: 0 auto;text-align:center">
                                    <a href="/Home/SubCategoriasRepositorio/@item.id"><img src="@item.urlimg" style="width:100px; height:100px" /></a>
                                    <span style="font-family:Chewy;font-size:12pt;color:#616161">@item.nombre</span>
                                </div>
                            </div>
                        }
                        else
                        {
                            <div class="span4" style="margin-top:20px;margin-left:0px"></div>
                        }
                        index++;

                    }
                </div>
            }
        </div>
        @*foreach (var item in Model)
        {
            <div>
                <a href="/Home/SubCategorias/@item.id"><img src="@item.urlimg"  style="width:100px; height:100px"/></a>
                <h2>@item.nombre</h2>
            </div>
            
            <br />
        }*@
    }
    else
    {
        <br /><br />
        <h1>Aun no se han cargado categorias</h1>
    }
</div>
<center>@Html.AtrasInvestic()</center>